Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	aggregate_msf
	1	aggregate_wcn
	1	all
	3	compute_msf
	3	compute_wcn
	3	model_refinement
	1	plot_aprs_evolution
	1	plot_aprs_msf_wcn
	3	protein_modelling
	17
Select jobs to execute...

[Wed Feb  3 11:26:02 2021]
rule protein_modelling:
    input: ancestral_reconstruction/alignment_trimmed.faa, apoa1.pdb
    output: ancestral_reconstruction/Gorilla_gorilla_ENSGGOP00000033442/best_model.pdb
    jobid: 2
    wildcards: target=Gorilla_gorilla_ENSGGOP00000033442

[Wed Feb  3 11:27:56 2021]
Finished job 2.
1 of 17 steps (6%) done
Select jobs to execute...

[Wed Feb  3 11:27:56 2021]
rule model_refinement:
    input: ancestral_reconstruction/Gorilla_gorilla_ENSGGOP00000033442/best_model.pdb
    output: ancestral_reconstruction/Gorilla_gorilla_ENSGGOP00000033442/best_model_relaxed.pdb
    jobid: 1
    wildcards: target=Gorilla_gorilla_ENSGGOP00000033442

[Wed Feb  3 11:33:38 2021]
Finished job 1.
2 of 17 steps (12%) done
Select jobs to execute...

[Wed Feb  3 11:33:38 2021]
rule compute_msf:
    input: ancestral_reconstruction/Gorilla_gorilla_ENSGGOP00000033442/best_model_relaxed.pdb
    output: ancestral_reconstruction/Gorilla_gorilla_ENSGGOP00000033442/best_model_relaxed.msf
    jobid: 19
    wildcards: target=Gorilla_gorilla_ENSGGOP00000033442

[Wed Feb  3 11:33:39 2021]
Finished job 19.
3 of 17 steps (18%) done
Select jobs to execute...

[Wed Feb  3 11:33:39 2021]
rule protein_modelling:
    input: ancestral_reconstruction/alignment_trimmed.faa, apoa1.pdb
    output: ancestral_reconstruction/Crocodylus_porosus_ENSCPRP00005000967/best_model.pdb
    jobid: 16
    wildcards: target=Crocodylus_porosus_ENSCPRP00005000967

[Wed Feb  3 11:35:27 2021]
Finished job 16.
4 of 17 steps (24%) done
Select jobs to execute...

[Wed Feb  3 11:35:27 2021]
rule model_refinement:
    input: ancestral_reconstruction/Crocodylus_porosus_ENSCPRP00005000967/best_model.pdb
    output: ancestral_reconstruction/Crocodylus_porosus_ENSCPRP00005000967/best_model_relaxed.pdb
    jobid: 15
    wildcards: target=Crocodylus_porosus_ENSCPRP00005000967

[Wed Feb  3 11:40:44 2021]
Finished job 15.
5 of 17 steps (29%) done
Select jobs to execute...

[Wed Feb  3 11:40:44 2021]
rule compute_wcn:
    input: ancestral_reconstruction/Crocodylus_porosus_ENSCPRP00005000967/best_model_relaxed.pdb
    output: ancestral_reconstruction/Crocodylus_porosus_ENSCPRP00005000967/best_model_relaxed.wcn
    jobid: 25
    wildcards: target=Crocodylus_porosus_ENSCPRP00005000967

[Wed Feb  3 11:40:46 2021]
Finished job 25.
6 of 17 steps (35%) done
Select jobs to execute...

[Wed Feb  3 11:40:46 2021]
rule plot_aprs_evolution:
    input: apr_evolution/aprs_aggregation_scores.csv, apr_evolution/aprs_entropy.csv
    output: viz/panels/aprs_conservation.svg, viz/panels/natural_selection_regimes.svg
    jobid: 29

[Wed Feb  3 11:40:47 2021]
Error in rule plot_aprs_evolution:
    jobid: 29
    output: viz/panels/aprs_conservation.svg, viz/panels/natural_selection_regimes.svg
    shell:
        
        ./viz/src/plot_apr_evolution.py apr_evolution/aprs_aggregation_scores.csv apr_evolution/aprs_entropy.csv &&        mv aprs_conservation.svg natural_selection_regimes.svg viz/panels/
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/tmasson/APOA1_evolution/.snakemake/log/2021-02-03T112602.509522.snakemake.log
